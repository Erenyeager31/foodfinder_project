<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <script src="https://ajax.aspnetCDN.com/ajax/jQuery/jQuery-3.3.1.min.js"></script>
  </head>

  <style>
    body {
      background-image: url('https://assets.gqindia.com/photos/625e4dacfcfaab5b0ecc5ee0/16:9/w_1280,c_limit/vada-pav%20(1).jpg');
      opacity: 0.8;
    }
  </style>

  <body>
    <!-- navbar-dark bg-dark -->
    <nav class="navbar navbar-dark bg-dark fixed-top opacity-75">
      <div class="container-fluid">
        <a class="navbar-brand opacity-100" href="#">Food Finder</a>
        <ul class="nav justify-content-center">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="home">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="aboutus">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="contactus">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="profile">Profile</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="showmaps">Maps</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" onclick="showcart()">Cart</a>
          </li>
        </ul>

        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="offcanvas"
          data-bs-target="#offcanvasDarkNavbar"
          aria-controls="offcanvasDarkNavbar"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="offcanvas offcanvas-end text-bg-dark"
          tabindex="-1"
          id="offcanvasDarkNavbar"
          aria-labelledby="offcanvasDarkNavbarLabel"
        >
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">
              FoodFinder
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <form class="d-flex mt-3" role="search">
              {% csrf_token %}
              <input
                class="form-control me-2"
                type="search"
                placeholder="Search"
                aria-label="Search"
              />
              <button class="btn btn-success" type="submit">Search</button>
            </form>
            <br />
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="home"
                  >Home</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="aboutus">About Us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="contactus">Contact Us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="profile">Profile</a>
              </li>
            </ul>
            <br />
            <a
              class="btn btn-light rounded-pill px-3"
              onclick="logout()"
              type="button"
              >Logout</a
            >
            <!-- <button type="button" class="btn btn-dark border border-primary ">Logout</button> -->
          </div>
        </div>
      </div>
    </nav>

    <div
      id="carouselExampleAutoplaying"
      class="carousel slide carousel-fade"
      data-bs-ride="carousel"
    >
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            src="/static/pavbaji.jpg"
            class="d-block w-100 img-fluid"
            alt="..."
          />
          <div class="carousel-caption d-none d-md-block">
            <h1><span class="auto-type"></span></h1>
            <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
            <h3>Samosa khana hai, vadapav khana hai, aa jaav khila dunga!</h3>
            <!-- <button type="button" class="btn btn-dark border border-primary ">Logout</button> -->
            <br />
            <a href="create_account" class="btn btn-light rounded-pill px-3"
              >Create Account</a
            >
            <a href="sign_in" class="btn btn-light rounded-pill px-3">Login</a>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="/static/idli.jpg"
            class="d-block w-100 img-fluid"
            alt="..."
          />
          <div class="carousel-caption d-none d-md-block">
            <h1><span class="auto-type0"></span></h1>
            <!-- <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script> -->
            <h3>Samosa khana hai, vadapav khana hai, aa jaav khila dunga!</h3>
            <br />
            <a href="create_account" class="btn btn-light rounded-pill px-3"
              >Create Account</a
            >
            <a href="sign_in" class="btn btn-light rounded-pill px-3">Login</a>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="/static/samosa.jpg"
            class="d-block w-100 img-fluid"
            alt="..."
          />
          <div class="carousel-caption d-none d-md-block">
            <h1><span class="auto-type1"></span></h1>
            <!-- <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script> -->
            <h3>Samosa khana hai, vadapav khana hai, aa jaav khila dunga!</h3>
            <br />
            <a href="create_account" class="btn btn-light rounded-pill px-3"
              >Create Account</a
            >
            <a href="sign_in" class="btn btn-light rounded-pill px-3">Login</a>
          </div>
        </div>
        <div class="carousel-item">
          <img
            src="/static/dosa.jpg"
            class="d-block w-100 img-fluid"
            alt="..."
          />
          <div class="carousel-caption d-none d-md-block">
            <h1><span class="auto-type2"></span></h1>
            <!-- <script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script> -->
            <h3>Samosa khana hai, vadapav khana hai, aa jaav khila dunga!</h3>
            <br />
            <a href="create_account" class="btn btn-light rounded-pill px-3"
              >Create Account</a
            >
            <a href="sign_in" class="btn btn-light rounded-pill px-3">Login</a>
          </div>
        </div>
      </div>

      <button
        class="carousel-control-prev"
        type="button"
        data-bs-target="#carouselExampleAutoplaying"
        data-bs-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        type="button"
        data-bs-target="#carouselExampleAutoplaying"
        data-bs-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>

    <!--carousel ------------------- -->
    <div class="album py-5 bg-body-tertiary">
      <div class="container">
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3">
          {% for i in food_list %}
          <div class="col">
            <div class="card shadow-sm">
              <img
                style="width: 100%; height: 250px; object-fit: cover"
                src="{{ i.img_url }}"
                class="card-img-top"
                alt="vadapav"
              />
              <div class="card-body">
                <p class="card-text">{{ i.food_name }}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button
                      type="button"
                      class="btn btn-sm btn-outline-secondary"
                    >
                      Buy
                    </button>
                    <button
                      type="button"
                      class="btn btn-sm btn-outline-secondary"
                      onclick="addCart('{{i.id}}');"
                    >
                      Add to cart
                    </button>
                  </div>
                  <small class="text-body-secondary">9 minutes</small>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- ---------------- -->

    <!-- footer -->
    <div class="container">
      <footer class="py-3">
        <ul class="nav justify-content-center border-bottom pb-3 mb-3">
          <li class="nav-item">
            <a href="#" class="nav-link px-2 text-body-secondary">Home</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link px-2 text-body-secondary">Features</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link px-2 text-body-secondary">Pricing</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link px-2 text-body-secondary">FAQs</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link px-2 text-body-secondary">About</a>
          </li>
        </ul>
        <div class="social-icons d-flex justify-content-md-evenly">
          <!-- Replace the links below with actual URLs to your social media profiles -->
          <a href="#"><img src="/static/facebook.svg" alt="Facebook" /></a>
          <a href="#"><img src="/static/twitter.svg" alt="Twitter" /></a>
          <a href="#"><img src="/static/linkedin.svg" alt="LinkedIn" /></a>
          <a href="#"><img src="/static/instagram.svg" alt="Instagram" /></a>
        </div>
        <br />
        <p class="text-center text-body-secondary">
          &copy; 2023 FoodFinder, Inc
        </p>
      </footer>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
      integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
      crossorigin="anonymous"
    ></script>

    <script>
      var typed = new Typed('.auto-type', {
        strings: ['Welcome To FoodFinder'],
        typeSpeed: 100,
        backSpeed: 100,
        loop: true
      })

      var typed0 = new Typed('.auto-type0', {
        strings: ['Welcome To FoodFinder'],
        typeSpeed: 100,
        backSpeed: 100,
        loop: true
      })

      var typed1 = new Typed('.auto-type1', {
        strings: ['Welcome To FoodFinder'],
        typeSpeed: 100,
        backSpeed: 100,
        loop: true
      })

      var typed2 = new Typed('.auto-type2', {
        strings: ['Welcome To FoodFinder'],
        typeSpeed: 100,
        backSpeed: 100,
        loop: true
      })
    </script>
  </body>
  <script>
    function logout() {
      sessionStorage.removeItem('username')
      $.ajax({
        type: 'POST',
        url: '/logout',
        data: {
          csrfmiddlewaretoken: $('input[name=csrfmiddlewaretoken]').val()
        },
        success(data) {
          alert(data)
          window.location.assign('home')
        },
        error(err) {
          console.log(err)
        }
      })
    }

    function addCart(id){
      if(sessionStorage.getItem('role') == 'Customer'){
        $.ajax({
          type:"GET",
          url:'/AddtoCart',
          data:{
            "username":sessionStorage.getItem('username'),
            "id":id
          },
          success(data){
            alert(data)
          },
          error(e){
            console.log(e)
          }
        })
      }
    }

    function showcart(){
      if(sessionStorage.getItem("role") == 'Customer'){
        window.location.assign("showcart")
      }
      else{
        alert("Please Login to view the Cart")
      }
    }
  </script>
</html>
